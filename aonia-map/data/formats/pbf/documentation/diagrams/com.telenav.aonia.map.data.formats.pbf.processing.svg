<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1265.625px" preserveAspectRatio="none" style="width:725px;height:1265px;background:#333333;" version="1.1" viewBox="0 0 725 1265" width="725px" zoomAndPan="magnify"><defs/><g><rect fill="#48494B" height="41.2028" rx="8.3333" ry="8.3333" style="stroke:#545454;stroke-width:1.0416666666666667;" width="542.7083" x="84.1146" y="2.0833"/><text fill="#C0C0C0" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="20.8333" lengthAdjust="spacing" textLength="519.7917" x="95.5729" y="30.5583">com.telenav.aonia.map.data.formats.pbf.processing</text><!--MD5=[21f7cb35c2f26298eb42a4d3dad1085d]
cluster PbfDataProcessor--><polygon fill="#333333" points="72.9167,1077.6611,198.9583,1077.6611,206.25,1104.8828,244.7917,1104.8828,244.7917,1258.9111,72.9167,1258.9111,72.9167,1077.6611" style="stroke:#333333;stroke-width:2.0833333333333335;"/><line style="stroke:#333333;stroke-width:2.0833333333333335;" x1="72.9167" x2="206.25" y1="1104.8828" y2="1104.8828"/><text fill="#C8AC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="113.5417" x="80.2083" y="1094.9544">PbfDataProcessor</text><!--MD5=[c0304455e5229138f27b62566627554f]
class PbfDataProcessor.Action--><rect codeLine="6" fill="#282828" height="107.2896" id="PbfDataProcessor.Action" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="101.0417" x="118.2292" y="1126.6195"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="101.0417" x="118.2292" y="1126.6195"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="101.0417" x="118.2292" y="1149.6745"/><rect codeLine="6" fill="none" height="107.2896" id="PbfDataProcessor.Action" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="101.0417" x="118.2292" y="1126.6195"/><ellipse cx="142.6563" cy="1142.3136" fill="#CF6300" rx="10.4167" ry="10.4167" style="stroke:#EF8300;stroke-width:1.0416666666666667;"/><path d="M145.7121,1147.0011 L140.0358,1147.0011 L140.0358,1137.8886 L145.7121,1137.8886 L145.7121,1139.4755 L141.8363,1139.4755 L141.8363,1141.4408 L145.3459,1141.4408 L145.3459,1143.0278 L141.8363,1143.0278 L141.8363,1145.4142 L145.7121,1145.4142 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="41.6667" x="161.5104" y="1147.0378">Action</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="119.2708" x2="218.2292" y1="1158.0078" y2="1158.0078"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="59.375" x="127.6042" y="1176.3774">ACCEPTED</text><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="64.5833" x="127.6042" y="1196.1222">DISCARDED</text><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="82.2917" x="127.6042" y="1215.8671">FILTERED_OUT</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="119.2708" x2="218.2292" y1="1225.5758" y2="1225.5758"/><!--MD5=[d5930c10e6eaeb4ab8b71064b1e5acb0]
class PbfDataProcessor--><rect codeLine="14" fill="#282828" height="392.0512" id="PbfDataProcessor" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="322.9167" x="7.2917" y="606.8278"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="322.9167" x="7.2917" y="606.8278"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="322.9167" x="7.2917" y="629.8828"/><rect codeLine="14" fill="none" height="392.0512" id="PbfDataProcessor" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="322.9167" x="7.2917" y="606.8278"/><ellipse cx="104.6875" cy="622.522" fill="#008400" rx="10.4167" ry="10.4167" style="stroke:#239C23;stroke-width:1.0416666666666667;"/><path d="M101.5706,619.6838 L101.5706,618.0969 L106.9967,618.0969 L106.9967,619.6838 L105.1839,619.6838 L105.1839,625.6226 L106.9967,625.6226 L106.9967,627.2095 L101.5706,627.2095 L101.5706,625.6226 L103.3834,625.6226 L103.3834,619.6838 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="113.5417" x="127.6042" y="627.2461">PbfDataProcessor</text><line style="stroke:#5E5E5E;stroke-width:1.5625;" x1="8.3333" x2="329.1667" y1="638.2161" y2="638.2161"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="8.3333" x2="329.1667" y1="646.5495" y2="646.5495"/><ellipse cx="18.75" cy="658.0078" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="172.9167" x="30.2083" y="664.919">void onBounds(Bound bounds)</text><ellipse cx="18.75" cy="677.7527" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="154.1667" x="30.2083" y="684.6639">void onEntity(PbfEntity&lt;?&gt;)</text><ellipse cx="18.75" cy="697.4976" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="138.5417" x="30.2083" y="704.4088">Action onNode(PbfNode)</text><ellipse cx="18.75" cy="717.2424" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="244.7917" x="30.2083" y="724.1536">void onNodes(Collection&lt;PbfNode&gt; nodes)</text><ellipse cx="18.75" cy="736.9873" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="169.7917" x="30.2083" y="743.8985">Action onRelation(PbfRelation)</text><ellipse cx="18.75" cy="756.7322" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="290.625" x="30.2083" y="763.6434">void onRelations(Collection&lt;PbfRelation&gt; relations)</text><ellipse cx="18.75" cy="776.4771" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="123.9583" x="30.2083" y="783.3883">Action onWay(PbfWay)</text><ellipse cx="18.75" cy="796.2219" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="222.9167" x="30.2083" y="803.1331">void onWays(Collection&lt;PbfWay&gt; ways)</text><ellipse cx="18.75" cy="839.8783" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="106.25" x="30.2083" y="846.7896">void onEndNodes()</text><ellipse cx="18.75" cy="859.6232" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="121.875" x="30.2083" y="866.5344">void onEndRelations()</text><ellipse cx="18.75" cy="879.3681" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="98.9583" x="30.2083" y="886.2793">void onEndWays()</text><ellipse cx="18.75" cy="899.113" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="111.4583" x="30.2083" y="906.0242">void onStartNodes()</text><ellipse cx="18.75" cy="918.8578" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="127.0833" x="30.2083" y="925.769">void onStartRelations()</text><ellipse cx="18.75" cy="938.6027" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="104.1667" x="30.2083" y="945.5139">void onStartWays()</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="8.3333" x2="139.0625" y1="822.7142" y2="822.7142"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="53.125" x="142.1875" y="826.5238">(lifecycle)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="198.4375" x2="329.1667" y1="822.7142" y2="822.7142"/><ellipse cx="18.75" cy="982.2591" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="265.625" x="30.2083" y="989.1703">void onMetadata(Map&lt;String,String&gt; metadata)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="8.3333" x2="135.9375" y1="965.095" y2="965.095"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="59.375" x="139.0625" y="968.9046">(metadata)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="201.5625" x2="329.1667" y1="965.095" y2="965.095"/><!--MD5=[44642bf1951becf690e71f855555764a]
class Broadcaster--><rect codeLine="36" fill="#282828" height="48.055" id="Broadcaster" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="113.5417" x="257.8125" y="53.7028"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="113.5417" x="257.8125" y="53.7028"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="113.5417" x="257.8125" y="76.7578"/><rect codeLine="36" fill="none" height="48.055" id="Broadcaster" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="113.5417" x="257.8125" y="53.7028"/><ellipse cx="272.3958" cy="69.397" fill="#008400" rx="10.4167" ry="10.4167" style="stroke:#239C23;stroke-width:1.0416666666666667;"/><path d="M269.279,66.5588 L269.279,64.9719 L274.705,64.9719 L274.705,66.5588 L272.8923,66.5588 L272.8923,72.4976 L274.705,72.4976 L274.705,74.0845 L269.279,74.0845 L269.279,72.4976 L271.0917,72.4976 L271.0917,66.5588 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="76.0417" x="289.0625" y="74.1211">Broadcaster</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="258.8542" x2="370.3125" y1="85.0911" y2="85.0911"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="258.8542" x2="370.3125" y1="93.4245" y2="93.4245"/><!--MD5=[9b18ed549806d86353c6d2f9c501e8a9]
class PbfDataSource--><rect codeLine="40" fill="#282828" height="356.7281" id="PbfDataSource" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="293.75" x="167.7083" y="165.1611"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="293.75" x="167.7083" y="165.1611"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="293.75" x="167.7083" y="188.2161"/><rect codeLine="40" fill="none" height="356.7281" id="PbfDataSource" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="293.75" x="167.7083" y="165.1611"/><ellipse cx="260.4167" cy="180.8553" fill="#008400" rx="10.4167" ry="10.4167" style="stroke:#239C23;stroke-width:1.0416666666666667;"/><path d="M257.2998,178.0172 L257.2998,176.4303 L262.7258,176.4303 L262.7258,178.0172 L260.9131,178.0172 L260.9131,183.9559 L262.7258,183.9559 L262.7258,185.5428 L257.2998,185.5428 L257.2998,183.9559 L259.1125,183.9559 L259.1125,178.0172 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="93.75" x="283.3333" y="185.5794">PbfDataSource</text><line style="stroke:#5E5E5E;stroke-width:1.5625;" x1="168.75" x2="460.4167" y1="196.5495" y2="196.5495"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="168.75" x2="460.4167" y1="204.8828" y2="204.8828"/><ellipse cx="179.1667" cy="216.3411" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="193.75" x="190.625" y="223.2524">void expectedNodes(Count nodes)</text><ellipse cx="179.1667" cy="236.086" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="223.9583" x="190.625" y="242.9972">void expectedRelations(Count relations)</text><ellipse cx="179.1667" cy="255.8309" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="179.1667" x="190.625" y="262.7421">void expectedWays(Count ways)</text><ellipse cx="179.1667" cy="275.5758" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="138.5417" x="190.625" y="282.487">void phase(String phase)</text><ellipse cx="179.1667" cy="295.3206" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="247.9167" x="190.625" y="302.2319">PbfDataStatistics process(PbfDataProcessor)</text><ellipse cx="179.1667" cy="338.9771" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="173.9583" x="190.625" y="345.8883">Map&lt;String,String&gt; metadata()</text><ellipse cx="179.1667" cy="358.7219" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="80.2083" x="190.625" y="365.6331">Count nodes()</text><ellipse cx="179.1667" cy="378.4668" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="94.7917" x="190.625" y="385.378">Count relations()</text><ellipse cx="179.1667" cy="398.2117" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="72.9167" x="190.625" y="405.1229">Count ways()</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="168.75" x2="280.2083" y1="321.8129" y2="321.8129"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="62.5" x="283.3333" y="325.6226">(collection)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="348.9583" x2="460.4167" y1="321.8129" y2="321.8129"/><ellipse cx="179.1667" cy="441.8681" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="261.4583" x="190.625" y="448.7793">PbfDataStatistics onProcess(PbfDataProcessor)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="168.75" x2="260.4167" y1="424.704" y2="424.704"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="102.0833" x="263.5417" y="428.5136">(extension points)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="368.75" x2="460.4167" y1="424.704" y2="424.704"/><ellipse cx="179.1667" cy="485.5245" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="70.8333" x="190.625" y="492.4357">void onEnd()</text><ellipse cx="179.1667" cy="505.2694" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="76.0417" x="190.625" y="512.1806">void onStart()</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="168.75" x2="284.8958" y1="468.3604" y2="468.3604"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="53.125" x="288.0208" y="472.17">(lifecycle)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="344.2708" x2="460.4167" y1="468.3604" y2="468.3604"/><!--MD5=[97946d5e3c7045403d1449eddde6064b]
class PbfDataStatistics--><rect codeLine="60" fill="#282828" height="313.0717" id="PbfDataStatistics" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="185.4167" x="366.6667" y="645.8903"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="185.4167" x="366.6667" y="645.8903"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="185.4167" x="366.6667" y="668.9453"/><rect codeLine="60" fill="none" height="313.0717" id="PbfDataStatistics" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="185.4167" x="366.6667" y="645.8903"/><ellipse cx="398.125" cy="661.5845" fill="#0066CF" rx="10.4167" ry="10.4167" style="stroke:#0086EF;stroke-width:1.0416666666666667;"/><path d="M400.0354,666.0095 Q399.6082,666.2292 399.1382,666.3391 Q398.6682,666.449 398.1494,666.449 Q396.3062,666.449 395.3357,665.2344 Q394.3652,664.0198 394.3652,661.7249 Q394.3652,659.4238 395.3357,658.2092 Q396.3062,656.9946 398.1494,656.9946 Q398.6682,656.9946 399.1443,657.1045 Q399.6204,657.2144 400.0354,657.4341 L400.0354,659.436 Q399.5715,659.0088 399.1351,658.8104 Q398.6987,658.6121 398.2349,658.6121 Q397.2461,658.6121 396.7426,659.3964 Q396.239,660.1807 396.239,661.7249 Q396.239,663.2629 396.7426,664.0472 Q397.2461,664.8315 398.2349,664.8315 Q398.6987,664.8315 399.1351,664.6332 Q399.5715,664.4348 400.0354,664.0076 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="110.4167" x="418.5417" y="666.3086">PbfDataStatistics</text><line style="stroke:#5E5E5E;stroke-width:1.5625;" x1="367.7083" x2="551.0417" y1="677.2786" y2="677.2786"/><ellipse cx="378.125" cy="712.6485" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="153.125" x="389.5833" y="719.5597">PbfDataStatistics(Resource)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="367.7083" x2="415.625" y1="695.4844" y2="695.4844"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="81.25" x="418.75" y="699.294">(constructors)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="503.125" x2="551.0417" y1="695.4844" y2="695.4844"/><ellipse cx="378.125" cy="756.3049" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="92.7083" x="389.5833" y="763.2161">boolean isValid()</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="367.7083" x2="432.8125" y1="739.1408" y2="739.1408"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="46.875" x="435.9375" y="742.9504">(checks)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="485.9375" x2="551.0417" y1="739.1408" y2="739.1408"/><ellipse cx="378.125" cy="799.9613" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="86.4583" x="389.5833" y="806.8726">Bytes dataSize()</text><ellipse cx="378.125" cy="819.7062" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="80.2083" x="389.5833" y="826.6174">Count nodes()</text><ellipse cx="378.125" cy="839.4511" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="94.7917" x="389.5833" y="846.3623">Count relations()</text><ellipse cx="378.125" cy="859.196" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="72.9167" x="389.5833" y="866.1072">Count ways()</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="367.7083" x2="425" y1="782.7972" y2="782.7972"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="62.5" x="428.125" y="786.6069">(collection)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="493.75" x2="551.0417" y1="782.7972" y2="782.7972"/><ellipse cx="378.125" cy="902.8524" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="127.0833" x="389.5833" y="909.7636">void incrementNodes()</text><ellipse cx="378.125" cy="922.5972" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="142.7083" x="389.5833" y="929.5085">void incrementRelations()</text><ellipse cx="378.125" cy="942.3421" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="119.7917" x="389.5833" y="949.2533">void incrementWays()</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="367.7083" x2="438.0208" y1="885.6883" y2="885.6883"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="36.4583" x="441.1458" y="889.4979">(math)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="480.7292" x2="551.0417" y1="885.6883" y2="885.6883"/><!--MD5=[5c6c7d52e42032554528404b62c1d271]
class RuntimeException--><rect fill="#282828" height="48.055" id="RuntimeException" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="154.1667" x="531.25" y="53.7028"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="154.1667" x="531.25" y="53.7028"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="154.1667" x="531.25" y="76.7578"/><rect fill="none" height="48.055" id="RuntimeException" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="154.1667" x="531.25" y="53.7028"/><ellipse cx="545.8333" cy="69.397" fill="#0066CF" rx="10.4167" ry="10.4167" style="stroke:#0086EF;stroke-width:1.0416666666666667;"/><path d="M547.7437,73.822 Q547.3165,74.0417 546.8465,74.1516 Q546.3765,74.2615 545.8577,74.2615 Q544.0145,74.2615 543.044,73.0469 Q542.0736,71.8323 542.0736,69.5374 Q542.0736,67.2363 543.044,66.0217 Q544.0145,64.8071 545.8577,64.8071 Q546.3765,64.8071 546.8526,64.917 Q547.3287,65.0269 547.7437,65.2466 L547.7437,67.2485 Q547.2799,66.8213 546.8435,66.6229 Q546.4071,66.4246 545.9432,66.4246 Q544.9544,66.4246 544.4509,67.2089 Q543.9473,67.9932 543.9473,69.5374 Q543.9473,71.0754 544.4509,71.8597 Q544.9544,72.644 545.9432,72.644 Q546.4071,72.644 546.8435,72.4457 Q547.2799,72.2473 547.7437,71.8201 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="116.6667" x="562.5" y="74.1211">RuntimeException</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="532.2917" x2="684.375" y1="85.0911" y2="85.0911"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="532.2917" x2="684.375" y1="93.4245" y2="93.4245"/><!--MD5=[75c98072670045f9b47354372cc73191]
class PbfStopProcessingException--><rect codeLine="78" fill="#282828" height="48.055" id="PbfStopProcessingException" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="219.7917" x="498.4375" y="319.3278"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="219.7917" x="498.4375" y="319.3278"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="219.7917" x="498.4375" y="342.3828"/><rect codeLine="78" fill="none" height="48.055" id="PbfStopProcessingException" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="219.7917" x="498.4375" y="319.3278"/><ellipse cx="513.0208" cy="335.022" fill="#0066CF" rx="10.4167" ry="10.4167" style="stroke:#0086EF;stroke-width:1.0416666666666667;"/><path d="M514.9312,339.447 Q514.504,339.6667 514.034,339.7766 Q513.564,339.8865 513.0452,339.8865 Q511.202,339.8865 510.2315,338.6719 Q509.2611,337.4573 509.2611,335.1624 Q509.2611,332.8613 510.2315,331.6467 Q511.202,330.4321 513.0452,330.4321 Q513.564,330.4321 514.0401,330.542 Q514.5162,330.6519 514.9312,330.8716 L514.9312,332.8735 Q514.4674,332.4463 514.031,332.2479 Q513.5946,332.0496 513.1307,332.0496 Q512.1419,332.0496 511.6384,332.8339 Q511.1348,333.6182 511.1348,335.1624 Q511.1348,336.7004 511.6384,337.4847 Q512.1419,338.269 513.1307,338.269 Q513.5946,338.269 514.031,338.0707 Q514.4674,337.8723 514.9312,337.4451 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="182.2917" x="529.6875" y="339.7461">PbfStopProcessingException</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="499.4792" x2="717.1875" y1="350.7161" y2="350.7161"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="499.4792" x2="717.1875" y1="359.0495" y2="359.0495"/><!--MD5=[45cf799698ebf95fcef4d54a8f56d462]
link PbfDataProcessor to PbfDataProcessor.Action--><path codeLine="13" d="M168.75,998.609 C168.75,1043.3695 168.75,1087.5778 168.75,1121.057 " fill="none" id="PbfDataProcessor-to-PbfDataProcessor.Action" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="#545454" points="168.75,1126.3382,172.9167,1116.9632,168.75,1121.1299,164.5833,1116.9632,168.75,1126.3382" style="stroke:#545454;stroke-width:1.5625;"/><text fill="#A0A0A0" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="64.5833" x="172.9167" y="1045.9961">guided by</text><!--MD5=[e3d8934b6998a45b20446eafcb4aea3b]
reverse link Broadcaster to PbfDataSource--><path codeLine="37" d="M314.5833,122.5049 C314.5833,135.0674 314.5833,149.5986 314.5833,165.0778 " fill="none" id="Broadcaster-backto-PbfDataSource" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="none" points="307.2917,122.4632,314.5833,101.6299,321.875,122.4632,307.2917,122.4632" style="stroke:#545454;stroke-width:1.5625;"/><!--MD5=[05fce65b709e0026e6e40bde5a68b2b8]
link PbfDataSource to PbfDataProcessor--><path codeLine="38" d="M258.0938,521.4528 C249.7292,547.7028 241.0521,574.9111 232.5417,601.5882 " fill="none" id="PbfDataSource-to-PbfDataProcessor" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="#545454" points="230.9583,606.557,237.7723,598.8875,232.5381,601.594,229.8316,596.3598,230.9583,606.557" style="stroke:#545454;stroke-width:1.5625;"/><text fill="#A0A0A0" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="29.1667" x="250" y="568.9128">calls</text><!--MD5=[2dc8dc6b1397b73231465cb3ff21f053]
link PbfDataSource to PbfDataStatistics--><path codeLine="39" d="M370.6667,521.4528 C383.0729,560.6403 396.1563,601.9528 408.3542,640.4632 " fill="none" id="PbfDataSource-to-PbfDataStatistics" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="#545454" points="409.9896,645.6299,411.1251,635.4337,408.4141,640.6656,403.1822,637.9545,409.9896,645.6299" style="stroke:#545454;stroke-width:1.5625;"/><text fill="#A0A0A0" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="48.9583" x="390.625" y="568.9128">collects</text><!--MD5=[f38842b572383e072c879aa6d555c783]
reverse link RuntimeException to PbfStopProcessingException--><path codeLine="77" d="M608.3333,122.484 C608.3333,178.9945 608.3333,275.2653 608.3333,319.182 " fill="none" id="RuntimeException-backto-PbfStopProcessingException" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="none" points="601.0417,122.4632,608.3333,101.6299,615.625,122.4632,601.0417,122.4632" style="stroke:#545454;stroke-width:1.5625;"/><!--MD5=[676084f2f7535c61bb54cb623efe3369]
@startuml

    !include ../lexakai/lexakai.theme
    
    title "com.telenav.aonia.map.data.formats.pbf.processing"
    
    enum PbfDataProcessor.Action
    {
        ACCEPTED
        DISCARDED
        FILTERED_OUT
    }
    
    PbfDataProcessor - -> PbfDataProcessor.Action : "guided by"
    interface PbfDataProcessor
    {
        - -
        +void onBounds(Bound bounds)
        +void onEntity(PbfEntity<?>)
        +Action onNode(PbfNode)
        +void onNodes(Collection<PbfNode> nodes)
        +Action onRelation(PbfRelation)
        +void onRelations(Collection<PbfRelation> relations)
        +Action onWay(PbfWay)
        +void onWays(Collection<PbfWay> ways)
        - -(lifecycle)- -
        +void onEndNodes()
        +void onEndRelations()
        +void onEndWays()
        +void onStartNodes()
        +void onStartRelations()
        +void onStartWays()
        - -(metadata)- -
        +void onMetadata(Map<String,String> metadata)
    }
    
    interface Broadcaster
    Broadcaster <|- - PbfDataSource
    PbfDataSource - -> PbfDataProcessor : "calls"
    PbfDataSource - -> PbfDataStatistics : "collects"
    interface PbfDataSource
    {
        - -
        +void expectedNodes(Count nodes)
        +void expectedRelations(Count relations)
        +void expectedWays(Count ways)
        +void phase(String phase)
        +PbfDataStatistics process(PbfDataProcessor)
        - -(collection)- -
        +Map<String,String> metadata()
        +Count nodes()
        +Count relations()
        +Count ways()
        - -(extension points)- -
        +PbfDataStatistics onProcess(PbfDataProcessor)
        - -(lifecycle)- -
        +void onEnd()
        +void onStart()
    }
    
    class PbfDataStatistics
    {
        - -(constructors)- -
        +PbfDataStatistics(Resource)
        - -(checks)- -
        +boolean isValid()
        - -(collection)- -
        +Bytes dataSize()
        +Count nodes()
        +Count relations()
        +Count ways()
        - -(math)- -
        +void incrementNodes()
        +void incrementRelations()
        +void incrementWays()
    }
    
    RuntimeException <|- - PbfStopProcessingException
    class PbfStopProcessingException
    {
    }
    
@enduml

@startuml









skinparam backgroundColor #333333






skinparam  {
    defaultFontName   "Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif"
    defaultFontSize   12
    defaultTextAlignment left
    shadowing false
    RoundCorner 10
    TitleFontSize 18
}

skinparam defaultFontName       "Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif"
skinparam defaultFontSize       12
skinparam dpi                   100
skinparam shadowing             false
skinparam roundcorner           16
skinparam ParticipantPadding    40
skinparam BoxPadding            40
skinparam Padding               3
skinparam ArrowColor            #545454
skinparam stereotype {
    CBackgroundColor #0066cf
    CBorderColor #0086ef
    ABackgroundColor #C8Ac00
    ABorderColor #D8Bc00
    IBackgroundColor #008400
    IBorderColor #239c23
    EBackgroundColor #cf6300
    EBorderColor #ef8300
    NBackgroundColor #3380b9
    NBorderColor #004d86
}
skinparam title {
	FontColor	                 #c0c0c0
 	BorderColor                  #545454
	FontSize	    	         20
	BorderRoundCorner            16
	BorderThickness 	         1
	BackgroundColor              #48494b
}


skinparam legend {
	BackgroundColor #303030
	BorderColor #404040
	FontColor #a0a0a0
}

	skinparam swimlane {
	BorderColor #5e5e5e
	BorderThickness 2
	TitleBackgroundColor  #6d6d6d-#484848
	TitleFontColor #303030
}

skinparam activity {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	BarColor #00FF00
	StartColor #0060a8
	EndColor #0060a8
	DiamondBackgroundColor #6d6d6d-#3a3a3a
  	DiamondBorderColor #3a3a3a
  	DiamondFontColor #fefefe
}


skinparam participant {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	ParticipantBorderThickness 2
}


skinparam actor {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
}


skinparam arrow {
	Thickness 1.5
	Color #545454
	FontColor #a0a0a0
    FontStyle bold
    MessageAlignment center
}



skinparam sequence {
	BorderColor #303030
	TitleFontColor #303030
	BackgroundColor #333333
	StartColor #303030
	EndColor #303030
	BoxBackgroundColor #333333
	BoxBorderColor #484848
	BoxFontColor #484848
	LifeLineBorderColor #484848
	LifeLineBorderThickness 2
	LifeLineBackgroundColor #3a3a3a
	GroupBorderColor #484848
	GroupFontColor #484848
	GroupHeaderFontColor #0060a8
	GroupBackgroundColor #484848
	GroupHeaderBackgroundColor #333333
	DividerBackgroundColor #484848
    DividerBorderColor #484848
    DividerBorderThickness 2
    DividerFontColor #D8Bc00
	ReferenceBackgroundColor #333333
	ReferenceBorderColor #484848
	ReferenceFontColor #fefefe
	ReferenceHeaderBackgroundColor #484848
}


skinparam partition {
	BorderColor #303030
	FontColor #333333
	BackgroundColor #333333
}


skinparam collections {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
}


skinparam control {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
}


skinparam entity {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
}


skinparam boundary {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
}


skinparam agent {
	BackgroundColor #ff8000
	BorderColor #ff9933
	FontColor #484848
}


skinparam note {
	BorderThickness 1
	BackgroundColor #1b1b1a
	BorderColor #5e5e5e
	FontSize 11
	FontColor #a0a0a0
}


skinparam artifact {
	BorderThickness 10
	BorderColor #5e5e5e
	BackgroundColor #1b1b1a
	FontColor #D8Bc00
}


skinparam component {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
}


skinparam interface {
	BackgroundColor  #008400
	BorderColor  #007F00
	FontColor #484848
}


skinparam storage {
	BackgroundColor #ff8000
  	BorderColor #cc6600
	FontColor #222222
}


skinparam node {
	BackgroundColor #333333
	BorderColor #333333
	FontColor #C8Ac00
}


skinparam cloud {
	BackgroundColor #484848-black
	BorderColor #484848
	FontColor #D8Bc00
}


skinparam database {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	BackgroundColor  #333333
}


skinparam class {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	HeaderBackgroundColor #1b1b1a
    BackgroundColor #282828
    BorderColor #5e5e5e
 	StereotypeFontColor #a0a0a0
    StereotypeFontStyle bold
	BorderThickness 1
	AttributeFontColor #D8Bc00
	AttributeFontSize 11
    FontColor #D8Bc00
    FontStyle bold
}


skinparam object {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	StereotypeFontColor #484848
	BorderThickness 1
	AttributeFontColor #fefefe
	AttributeFontSize 11
}


skinparam usecase {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	BorderThickness 2
	StereotypeFontColor #303030
}


skinparam rectangle {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	BackgroundColor #333333
	BorderThickness 2
	StereotypeFontColor #303030
}


skinparam package {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	BackgroundColor #333333
	BorderThickness 2
}


skinparam folder {
	BackgroundColor #6d6d6d
  	BorderColor #ff8000
	FontColor #ff8000
	BorderThickness 2
}


skinparam frame {
	BackgroundColor #6d6d6d
  	BorderColor #0060a8
	FontColor #0060a8
	BorderThickness 2
}


skinparam state {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	StartColor #0060a8
	EndColor #0060a8
	AttributeFontColor #fefefe
	AttributeFontSize 11
}


skinparam queue {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
}


skinparam card {
	BackgroundColor #0060a8
	BorderColor #004d86
	FontColor $INFO_TEXT
}


skinparam file {
	BackgroundColor #6d6d6d-#484848
	BorderColor #0060a8
	FontColor #fefefe
}


skinparam stack {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
}

    
    title "com.telenav.aonia.map.data.formats.pbf.processing"
    
    enum PbfDataProcessor.Action
    {
        ACCEPTED
        DISCARDED
        FILTERED_OUT
    }
    
    PbfDataProcessor - -> PbfDataProcessor.Action : "guided by"
    interface PbfDataProcessor
    {
        - -
        +void onBounds(Bound bounds)
        +void onEntity(PbfEntity<?>)
        +Action onNode(PbfNode)
        +void onNodes(Collection<PbfNode> nodes)
        +Action onRelation(PbfRelation)
        +void onRelations(Collection<PbfRelation> relations)
        +Action onWay(PbfWay)
        +void onWays(Collection<PbfWay> ways)
        - -(lifecycle)- -
        +void onEndNodes()
        +void onEndRelations()
        +void onEndWays()
        +void onStartNodes()
        +void onStartRelations()
        +void onStartWays()
        - -(metadata)- -
        +void onMetadata(Map<String,String> metadata)
    }
    
    interface Broadcaster
    Broadcaster <|- - PbfDataSource
    PbfDataSource - -> PbfDataProcessor : "calls"
    PbfDataSource - -> PbfDataStatistics : "collects"
    interface PbfDataSource
    {
        - -
        +void expectedNodes(Count nodes)
        +void expectedRelations(Count relations)
        +void expectedWays(Count ways)
        +void phase(String phase)
        +PbfDataStatistics process(PbfDataProcessor)
        - -(collection)- -
        +Map<String,String> metadata()
        +Count nodes()
        +Count relations()
        +Count ways()
        - -(extension points)- -
        +PbfDataStatistics onProcess(PbfDataProcessor)
        - -(lifecycle)- -
        +void onEnd()
        +void onStart()
    }
    
    class PbfDataStatistics
    {
        - -(constructors)- -
        +PbfDataStatistics(Resource)
        - -(checks)- -
        +boolean isValid()
        - -(collection)- -
        +Bytes dataSize()
        +Count nodes()
        +Count relations()
        +Count ways()
        - -(math)- -
        +void incrementNodes()
        +void incrementRelations()
        +void incrementWays()
    }
    
    RuntimeException <|- - PbfStopProcessingException
    class PbfStopProcessingException
    {
    }
    
@enduml

PlantUML version 1.2021.01(Tue Feb 02 00:55:08 MST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>